# Архитектура проекта FoodDiary

## Часть 1. Проектирование архитектуры («To Be»)

### 1. Определение типа приложения

FoodDiary представляет собой Web приложение, включающее:

- **Backend** – FastAPI API для обработки запросов и взаимодействия с базой данных.
- **Frontend** – веб-приложение на React для работы через браузер.

### 2. Стратегия развёртывания

- **Backend**: контейнеризация с Docker, деплой на облачные платформы (AWS, DigitalOcean, Heroku), база данных PostgreSQL, кэширование Redis.
- **Frontend**: разрабатывается с использованием React, деплой возможен через Vercel, Netlify или серверные платформы (NGINX + Docker).

### 3. Обоснование выбора технологий

#### Backend:

- **FastAPI** – быстрый и асинхронный веб-фреймворк на Python.
- **SQLAlchemy** – ORM для работы с базой данных.
- **Redis** – кэширование данных.
- **JWT (JSON Web Token)** – аутентификация.
- **Pydantic** – валидация данных.

#### Frontend:

- **React** – современный JavaScript-фреймворк для разработки SPA.

### 4. Показатели качества

- **Производительность** – асинхронные операции, кэширование, клиентская оптимизация.
- **Масштабируемость** – контейнеризация и адаптация под облачные сервисы.
- **Безопасность** – JWT-аутентификация, защищённые соединения.
- **Надёжность** – логирование и обработка ошибок.

### 5. Реализация сквозной функциональности

- **Backend**: логирование (`LogRequestMiddleware`), кэширование (`Cache`), аутентификация (`get_current_user`).
- **Frontend**: работа с API, кэширование данных в `localStorage` или `IndexedDB`.

### 6. Структурная схема приложения
![Архитектурная диаграмма ToBe](https://github.com/nstprkp/FoodDiary/blob/699ebc20400d6ea798617a1b56cec95fe1b691a8/documentation/pictures/architectureToBe.png)

## Часть 2. Анализ архитектуры («As Is»)

### 1. Анализ текущей структуры кода

- **Backend**:
  - **routers/** – маршрутизация API.
  - **services/** – бизнес-логика.
  - **models/** – SQLAlchemy-модели.
  - **core/** – конфигурации.
- **Frontend**:

![Архитектурная диаграмма AsIs](https://github.com/nstprkp/FoodDiary/blob/699ebc20400d6ea798617a1b56cec95fe1b691a8/documentation/pictures/architectureAsIs.png)


## Часть 3. Сравнение и рефакторинг

### 1. Сравнение «To Be» и «As Is»

- Архитектурное видение включает чёткое разделение backend и frontend.
- В текущей реализации присутствуют ключевые модули, но возможны улучшения.

### 2. Выявленные отличия

- Необходимо оптимизировать взаимодействие backend и frontend (стандартизировать API, улучшить обработку ошибок).
- Улучшить модульность сервисного слоя backend.
- Доработать архитектуру frontend, внедрив лучшие практики проектирования.

### 3. Пути улучшения архитектуры

- Оптимизация API взаимодействия между backend и frontend.
- Введение архитектурных паттернов, таких как CQRS для backend и улучшенное управление состоянием в frontend (Redux, Context API).
- Автоматизированное тестирование и CI/CD для стабильности развертывания.
